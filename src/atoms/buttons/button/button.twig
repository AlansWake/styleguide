{% set color = "osg-button-" ~ button.color | default('red') %}
{% set hasLink = button.link is defined and button.link is not empty %}
{% set hasDataattrs = button.dataattrs is defined and button.dataattrs is not empty %}
{% set buttonVariant = button.variant | default('osg-v-default') %}
{% set buttonModifiers = button.modifiers | default(null) %}
{% set hasIcon = button.icon is defined and button.icon is not empty %}

<button
  class="osg-button {{ buttonVariant }} {{ buttonModifiers }} {{ color }}"
  {% if hasDataattrs %}
    {% for dataattr in button.dataattrs %}
      {{dataattr.key}}="{{dataattr.val}}"
    {% endfor %}
  {% endif %}
>
  {% if buttonVariant == "osg-v-default" %}
    {{ button.content | raw }}
  {% endif %}

  {% if buttonVariant == "osg-v-toggle-icon" %}
    <span class="osg-button__text">
      {{ button.text }}
    </span>
    {% if hasIcon %}
      <span>{{ button.icon | raw }}</span>
    {% endif %}
  {% endif %}

  {% if buttonVariant == "osg-v-circle" %}
    {% set shape = {
        "text": button.text,
        "variant": button.variant
      }
    %}
    {% include "atoms/decorators/shape/shape.twig" with shape %}
  {% endif %}

</button>
