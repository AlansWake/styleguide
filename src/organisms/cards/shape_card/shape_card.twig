{% set hasStateText = shapeCard.stateText is defined and shapeCard.stateText is not empty %}
{% set hasTags = tags is defined and tags is not empty %}
{% set hasSearchResult = shapeCard.searchResult is defined and shapeCard.searchResult is not empty %}
{% set shapeCardVariant = shapeCard.variant | default('osg-v-default') %}
{% set shapeCardModifiers = shapeCard.modifiers | default(null) %}

<div class="osg-shape-card {{ shapeCardVariant }} {{ shapeCardModifiers }}">
  <a class="osg-shape-card__wrapper" href="{{ shapeCard.url }}" title="{{ figure.img.alt }}">
    <div class="osg-shape-card__image-container" href="{{ shapeCard.url }}" aria-hidden="true">
      {% include "atoms/decorators/figure/figure.twig" %}
      {% if hasStateText %}
      <div class="osg-shape-card__state-text">{{ shapeCard.stateText }}</div>
      {% endif %}
    </div>
  </a>
  <div class="osg-shape-card__box-shape-wrapper">
    {% embed 'molecules/content_display/content_box/content_box.twig' %}
      {% block head %}
        <a class="osg-shape-card__wrapper" href="{{ shapeCard.url }}" aria-hidden="true">
          {{ parent() }}
        </a>
      {% endblock %}
      {% block body %}
        <a class="osg-shape-card__wrapper" href="{{ shapeCard.url }}" aria-hidden="true">
          {{ parent() }}
        </a>
      {% endblock %}
      {% block footer %}
        {{ parent() }}
        {% if hasTags %}
          {% include 'molecules/navigation/tags/tags.twig' %}
        {% endif %}
        {% if hasSearchResult %}
          <a href="{{ shapeCard.url }}" class="osg-search-result">
            {{ shapeCard.searchResult | default(null) }}
          </a>
        {% endif %}
      {% endblock %}
    {% endembed %}
    {% include 'atoms/decorators/shape/shape.twig' %}
  </div>
</div>
